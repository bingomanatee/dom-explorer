"use strict";angular.module("domExplorerApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angularModalService"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("domExplorerApp").controller("MainCtrl",["$scope","ModalService",function(a,b){var c=!1;a.showDialog=function(){c||b.showModal({templateUrl:"/views/dialog/dialog.html",controller:"DialogCtrl"}).then(function(a){c=!0,a.element.modal(),a.close.then(function(){c=!1})})}}]),angular.module("domExplorerApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("domExplorerApp").service("domNodes",["$document",function(a){function b(a,b){var e={name:a.tagName,id:++d,level:b,type:a.nodeType,closed:!1,ele:a};if(e.children=[],3===a.nodeType&&(e.text=a.textContent,!/\S/.test(e.text)))return null;a=angular.element(a);for(var f=a.contents(),g=0;g<f.length;++g){var h=f[g],i=c(h,1+b);i&&e.children.push(i)}return e}function c(a,c){if(c||(c=0),"overlay"===a.id||"fade"===a.id)return null;var d=null;switch(a.nodeType){case 1:d=b(a,c);break;case 3:d=b(a,c)}return d}var d=0;return function(b){var d=[];return b||(b=a.children()[0]),d.push(c(b)),d}}]),angular.module("domExplorerApp").directive("tree",["$compile",function(a){return{template:'<div><tree-node class="tree-node-content" name="node.name" ng-click="toggleClosed()" ng-class="{\'tree-node--over\': isOver }" ng-mouseenter="overTreeNode()" ng-mouseLeave="leaveTreeNode()"><div class="tree-node__spacer" ng-style="treeNodeStyle()">&nbsp;</div><button class="tree-node__zoom-button" ng-class="{\'tree-node__zoom-button--closed\' : node.closed && node.children.length, \'tree-node__zoom-button--hidden\' : !node.children.length }"></button><button class="tree-node__folder-button" ng-class="{\'tree-node__folder-button--head\': node.name.toLowerCase() == \'head\', \'tree-node__folder-button--text\': node.type == 3}"></button><span class="tree-node__label"> {{node.name | properCase }} </span><span class="tree-node__text"><span ng-if="node.type == 3">{{ node.text }}</span></span></div></tree-node><tree-node-children-placeholder ng-hide="node.closed"></tree-node-children-placeholder>',restrict:"E",scope:{node:"="},controller:"TreenodeCtrl",link:function(b,c){b.node.children&&b.node.children.length&&(c.find("tree-node-children-placeholder").html('<tree-node-children children="node.children"></tree-node-children>'),a(c.contents())(b))}}}]),angular.module("domExplorerApp").controller("DialogCtrl",["$scope","close","domNodes",function(a,b,c){a.map=c(),a.display=!0,a.close=b}]),angular.module("domExplorerApp").filter("properCase",function(){return function(a){return"string"!=typeof a?"":a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}}),angular.module("domExplorerApp").directive("treeNodeChildren",function(){return{template:'<div class="tree-node-children" ng-repeat="node in children"><tree node="node"></tree></div>',restrict:"E",scope:{children:"="},replace:!0}}),angular.module("domExplorerApp").controller("TreenodeCtrl",["$scope",function(a){a.overTreeNode=function(){a.$parent&&a.$parent.leaveTreeNode&&a.$parent.leaveTreeNode(),a.isOver=!0},a.leaveTreeNode=function(){a.isOver=!1},a.treeNodeStyle=function(){return{"flex-basis":.05+2.2*a.node.level+"rem"}},a.toggleClosed=_.debounce(function(){a.node.closed=!a.node.closed},50)}]),angular.module("domExplorerApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/dialog/dialog.html",'<div id="overlay" ng-show="display" class="dialog"> <header> <div class="dialog__title">Title</div> <div class="close"> <a href ng-click="close()">&times;</a></div> </header> <nav><div class="dialog__label">Label</div></nav> <section class="domNodes"> <tree ng-repeat="node in map" node="node"> </tree> </section> <footer> <a class="dialog-footer__link" href="#">Link</a> <button class="dialog-footer__button" ng-click="close()">Done</button> </footer> </div> <div id="fade" ng-click="close()" ng-show="display"></div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <button class="dom-explorer-button" ng-click="showDialog()">Show Dom Tree</button> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>')}]);